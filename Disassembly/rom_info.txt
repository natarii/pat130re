*f9dasm base config
option 6303
file rom.bin 8000
option begin c000
option noflex

*regions
word c065-c07a *unknown jumptable
data c33a-c379 *patch bank
data d193-d1aa
unused d1ab-d7ff
data d800-dabb
data e080-e083 *warm boot magic
data e084-e08b *default patch?
word e6a9-e6b2 *card type jumptable
unused dabc-dfff
unused c59c-cfff
data f2db-f2f2 *7seg lut
data fa83-fa8a *bit lut
word fab0-fac7 *tune start end addr lut
data fac8-fb47 *tune data

*labels
*mcu internal periphs
label 0001 DDR2
label 0003 PORT2
label 0008 TCSR1
label 000b OCR1HI
label 000c OCR1LO
label 000d ICRHI
label 000e ICRLO
label 000f TCSR2
label 0010 RMCR
label 0014 RAMCTL
label 0015 PORT5_optical
label 0016 DDR6
label 0017 PORT6
label 0019 OCR2HI
label 001b TCSR3
label 001c TCONR
label 001d T2CNT
label 001f TESTREG
*vars
label 0050 card_raw_read
label 0058 card_accu_read
label 005b card_type
label 0081 cur_note
label 0082 cur_note_delay
label 0088 tune_no?
label 008a tune_cur_addr
label 008c tune_end_addr
label 009e transpose
label 00b9 cur_note_with_transpose
label 2000 opll_reg
label 2001 opll_data
label 6000 rtc_sec_1
label 6002 rtc_min_1
label 6003 rtc_min_10
label 6004 rtc_hr_1
label 6005 rtc_hr_10_ampm
label 600c rtc_week
label 6044 is_warm_boot
label 6058 card_buf_addr
label 6200 card_start
label 624a card_end
label 7000 user_tune_start
label 71c0 user_tune_end
*code
label c065 unk_jumptable
label c323 upload_user_patch_b
label c33a patch_bank
label c37a opll_upload_user_patch_x
label c430 dummy_rts_c430
label e080 warm_boot_magic
label e08c cold_boot
label e084 default_patch?
label e11a warm_boot
label e6a7 card_type_jumptable
label e6a9 card_type_jumptable_actual
label e6b3 card_timer_program
label e8c7 card_chime_program
label ea9a card_unk_3
label eb44 card_unk_4
label eb5e card_unk_5
label ebaf write_warm_boot
label ec13 dummy_rts_ec13
label f2db sevenseg_lut
label f8cb dummy_rts_f8cb
label fa83 bit_lut
label fab0 tune_start_end_addr_lut
label fac8 tune_westminster
label faf9 tune_joy
label fb1a tune_blue_sky
label fb3b tune_ding_dong

*comments
*vars
lcomment 0003 bit 1 optical reader latch?
lcomment 005b b = 1 timer program, 2 = chime program, 3 4 5 = ???
*code
lcomment c16b end of card marker
lcomment c323 b must be 1-indexed, patches actually start at $c33a
lcomment e0b9 clear out user tune
lcomment e65d read card type
lcomment e65f timer program
lcomment e664 chime program
lcomment e669 ???
lcomment e66e ???
lcomment e673 ???
lcomment e682 end of card marker
lcomment f8d1 OCF1
lcomment fac8 <note num, like midi> <delay time>